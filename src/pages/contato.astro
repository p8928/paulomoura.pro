---
// src/pages/contato.astro
import Layout from '../layouts/Layout.astro';
---

<Layout title="Contato - Paulo Moura" description="Entre em contato conosco">
  <div class="contact-page-container" slot="rest-content">
    <!-- Back button at the top left -->
    <button class="back-btn" aria-label="Voltar" onclick="history.back()">
      <span class="back-btn-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M19 12H5"></path>
          <polyline points="12 19 5 12 12 5"></polyline>
        </svg>
      </span>
      <span class="back-btn-text">Voltar</span>
    </button>
    
    <section class="contact-intro">
      <h1 class="contact-title">Vamos conversar sobre o seu projeto</h1>
      <p class="contact-subtitle">Preencha o formulário abaixo e entraremos em contato em breve.</p>
    </section>

    <section class="contact-form-section">
      <form id="contactForm" class="contact-form" method="POST">
        <div class="form-grid">
          <!-- Left Column -->
          <div class="form-column">
            <div class="input-group">
              <label for="nome" class="form-label">Nome Completo</label>
              <input type="text" id="nome" name="nome" class="form-input" placeholder="Seu nome" required>
            </div>
            <div class="input-group">
              <label for="cargo" class="form-label">Seu Cargo</label>
              <select id="cargo" name="cargo" class="form-select" required>
                <option value="" disabled selected>Selecione seu cargo</option>
                <option value="dono">Dono(a)</option>
                <option value="diretor">Diretor(a)</option>
                <option value="gerente">Gerente</option>
                <option value="outro">Outro</option>
              </select>
            </div>
            <div class="input-group">
              <label for="email" class="form-label">Email</label>
              <input type="email" id="email" name="email" class="form-input" placeholder="seu@email.com" required>
            </div>
            <div class="input-group">
              <label for="telefone" class="form-label">Telefone</label>
              <input type="tel" id="telefone" name="telefone" class="form-input" placeholder="(11) 99999-9999" required>
            </div>
          </div>

          <!-- Right Column -->
          <div class="form-column">
            <div class="input-group">
              <label for="empresa" class="form-label">Nome da Empresa</label>
              <input type="text" id="empresa" name="empresa" class="form-input" placeholder="Nome da sua empresa" required>
            </div>
            <div class="input-group">
              <label for="website" class="form-label">Website</label>
              <input type="url" id="website" name="website" class="form-input" placeholder="https://suaempresa.com.br">
              <label class="checkbox-container">
                <input type="checkbox" id="noWebsite" name="noWebsite" class="hidden-checkbox">
                <span class="checkbox-custom"></span>
                <span class="checkbox-label">Minha empresa não tem site</span>
              </label>
            </div>
            <div class="input-group">
              <label for="orcamento" class="form-label">Orçamento Anual de Marketing</label>
              <select id="orcamento" name="orcamento" class="form-select" required>
                <option value="" disabled selected>Selecione o orçamento</option>
                <option value="ate-10k">Até R$ 10.000</option>
                <option value="10k-50k">R$ 10.001 a R$ 50.000</option>
                <option value="50k-100k">R$ 50.001 a R$ 100.000</option>
                <option value="100k-500k">R$ 100.001 a R$ 500.000</option>
                <option value="500k+">Mais de R$ 500.000</option>
                <option value="nao-definido">Ainda não definimos</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Consent and Submit Section -->
        <div class="form-full-width">
          <div class="consent-section">
            <div class="checkbox-container">
              <label class="checkbox-container">
                <input type="checkbox" id="emailConsent" name="emailConsent" class="hidden-checkbox">
                <span class="checkbox-custom"></span>
                <span class="checkbox-label">Desejo receber comunicações da Moura via email.</span>
              </label>
            </div>
            <p class="consent-text">
              Ao enviar, você concorda com nossa <a href="/politica-de-privacidade" class="consent-link">Política de Privacidade</a>.
            </p>
          </div>
          <button type="submit" class="btn btn-primary" id="submitBtn">Enviar</button>
        </div>
      </form>
    </section>

    <!-- Success Message -->
    <section id="success-message" class="success-message-container hidden">
      <div class="success-message__content">
        <h2 class="success-message__title">Obrigado!</h2>
        <p class="success-message__text">Sua mensagem foi enviada. Entraremos em contato em breve.</p>
        <a href="/" class="btn btn-secondary">Voltar ao início</a>
      </div>
    </section>
  </div>

  <style>
    :root {
      /* Cores */
      --color-background: #0D0D0D;
      --color-surface: #1A1A1A;
      --color-primary: #FFFFFF;
      --color-secondary: #A0A0A0;
      --color-accent: #C0B283;
      --color-border: #333333;
      --color-error: #FF6B6B;

      /* Tipografia */
      --font-family-sans: 'Helvetica Neue', sans-serif;
      --font-family-heading: 'Neue Haas Grotesk', sans-serif;
      --font-size-base: 16px;
      --font-weight-regular: 400;
      --font-weight-medium: 500;
      --font-weight-bold: 700;

      /* Espaçamento */
      --space-xs: 4px;
      --space-sm: 8px;
      --space-md: 16px;
      --space-lg: 24px;
      --space-xl: 32px;

      /* Bordas */
      --radius-md: 8px;
      --radius-sm: 4px;

      /* Transições */
      --transition-fast: 200ms ease-in-out;
    }

    .contact-page-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: var(--space-xl);
      background-color: var(--color-background);
      color: var(--color-primary);
      width: 100%;
      position: relative;
    }
    
    .back-btn {
      position: absolute;
      top: var(--space-xl);
      left: var(--space-xl);
      background: transparent;
      border: none;
      cursor: pointer;
      z-index: calc(var(--z-modal) + 1);
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      color: var(--color-primary);
      font-family: var(--font-family-primary);
      font-size: 1rem;
      font-weight: var(--font-weight-medium);
      transition: all 0.3s ease;
    }

    .back-btn:hover {
      color: var(--color-accent);
    }
    
    .back-btn-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }
    
    .back-btn:hover .back-btn-icon {
      transform: translateX(-3px);
    }
    
    .back-btn-text {
      transition: all 0.3s ease;
    }
    
    .back-btn:hover .back-btn-text {
      text-decoration: underline;
    }

    .contact-intro {
      text-align: center;
      margin-bottom: var(--space-lg);
      max-width: 600px;
    }

    .contact-title {
      font-family: var(--font-family-heading);
      font-size: 2rem;
      font-weight: var(--font-weight-medium);
      color: var(--color-primary);
      margin: 0 0 var(--space-sm) 0;
    }

    .contact-subtitle {
      font-size: 1rem;
      color: var(--color-secondary);
      margin: 0;
    }

    .contact-form-section {
      width: 100%;
      max-width: 800px;
    }

    .contact-form {
      background-color: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      padding: var(--space-lg);
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: var(--space-md);
      margin-bottom: var(--space-md);
    }

    @media (min-width: 768px) {
      .form-grid {
        grid-template-columns: 1fr 1fr;
      }
      .form-full-width {
        grid-column: 1 / -1;
      }
    }

    .input-group {
      margin-bottom: var(--space-sm);
    }

    .form-label {
      display: block;
      font-size: 0.875rem;
      font-weight: var(--font-weight-medium);
      color: var(--color-secondary);
      margin-bottom: 6px;
    }

    .form-input,
    .form-select,
    .form-textarea {
      width: 100%;
      background-color: var(--color-background);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      padding: 10px;
      font-size: 1rem;
      color: var(--color-primary);
      transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
    }

    .form-input:focus,
    .form-select:focus,
    .form-textarea:focus {
      outline: none;
      border-color: var(--color-accent);
      box-shadow: 0 0 0 3px rgba(192, 178, 131, 0.3);
    }

    .form-select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23A0A0A0' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 12px;
    }
    
    .form-textarea {
      resize: vertical;
      min-height: 100px;
    }

    .checkbox-container {
      display: flex;
      align-items: center;
      margin-top: var(--space-sm);
      cursor: pointer;
      user-select: none;
    }

    .hidden-checkbox {
      position: absolute;
      opacity: 0;
      cursor: pointer;
      height: 0;
      width: 0;
    }

    .checkbox-custom {
      width: 18px;
      height: 18px;
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      margin-right: var(--space-sm);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color var(--transition-fast), border-color var(--transition-fast);
    }

    .hidden-checkbox:checked + .checkbox-custom {
      background-color: var(--color-accent);
      border-color: var(--color-accent);
    }

    .hidden-checkbox:checked + .checkbox-custom::after {
      content: '✓';
      color: var(--color-background);
      font-size: 12px;
      font-weight: bold;
    }

    .checkbox-label {
      font-size: 0.875rem;
      color: var(--color-secondary);
    }

    .consent-section {
      margin-bottom: var(--space-md);
      padding: var(--space-md) 0;
    }

    .consent-text {
      font-size: 0.8rem;
      color: var(--color-secondary);
      margin-top: var(--space-sm);
    }

    .consent-link {
      color: var(--color-accent);
      text-decoration: none;
    }
    .consent-link:hover {
      text-decoration: underline;
    }

    .btn {
      padding: 12px var(--space-lg);
      border-radius: var(--radius-sm);
      font-size: 1rem;
      font-weight: var(--font-weight-medium);
      cursor: pointer;
      transition: all var(--transition-fast);
      border: 1px solid transparent;
      width: 100%;
      text-align: center;
      text-decoration: none;
      display: inline-block;
    }

    .btn-primary {
      background-color: var(--color-accent);
      color: var(--color-background);
      border-color: var(--color-accent);
    }
    .btn-primary:hover {
      background-color: #d4c59a;
      border-color: #d4c59a;
    }

    .btn-secondary {
      background-color: var(--color-surface);
      color: var(--color-primary);
      border-color: var(--color-border);
    }
    .btn-secondary:hover {
      border-color: var(--color-secondary);
    }

    .hidden {
      display: none !important;
    }

    .success-message-container {
      text-align: center;
      padding: var(--space-xl);
      max-width: 600px;
    }

    .success-message__title {
      font-family: var(--font-family-heading);
      font-size: 2rem;
      color: var(--color-primary);
      margin-bottom: var(--space-md);
    }

    .success-message__text {
      font-size: 1rem;
      color: var(--color-secondary);
      margin-bottom: var(--space-lg);
    }
    
    @media (max-width: 768px) {
      .contact-page-container {
        padding: var(--space-lg);
      }
      
      .contact-title {
        font-size: 2rem;
      }
    }
  </style>


</Layout>

<script src="/js/contact-form.js" is:inline></script>
